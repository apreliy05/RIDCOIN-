<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Уклоняйся от блоков!</title>
  <style>
    body {
      margin: 0;
      background: #222;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    #gameArea {
      width: 600px;
      height: 400px;
      background: #444;
      position: relative;
      overflow: hidden;
      border: 2px solid #fff;
    }

    #player {
      width: 50px;
      height: 50px;
      background: red;
      position: absolute;
      bottom: 0;
      left: 275px;
    }

    .fallingObject {
      width: 50px;
      height: 50px;
      background: yellow;
      position: absolute;
    }
  </style>
</head>
<body>
  <div id="gameArea">
    <div id="player"></div>
  </div>

  <script>
    const player = document.getElementById('player');
    const gameArea = document.getElementById('gameArea');
    const gameAreaWidth = gameArea.offsetWidth;
    const gameAreaHeight = gameArea.offsetHeight;

    let playerPositionX = 275;
    let playerSpeed = 10;
    let score = 0;
    let fallingObjects = [];
    let objectSpeed = 3;

    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft' && playerPositionX > 0) {
        playerPositionX -= playerSpeed;
      } else if (e.key === 'ArrowRight' && playerPositionX < gameAreaWidth - 50) {
        playerPositionX += playerSpeed;
      }
      player.style.left = playerPositionX + 'px';
    });

    function createObject() {
      const obj = document.createElement('div');
      obj.classList.add('fallingObject');
      obj.style.left = Math.random() * (gameAreaWidth - 50) + 'px';
      obj.style.top = '-50px';
      gameArea.appendChild(obj);
      fallingObjects.push(obj);
    }

    function moveObjects() {
      for (let i = 0; i < fallingObjects.length; i++) {
        const obj = fallingObjects[i];
        let top = parseInt(obj.style.top);
        obj.style.top = top + objectSpeed + 'px';

        if (
          top > gameAreaHeight - 50 &&
          top < gameAreaHeight &&
          parseInt(obj.style.left) > playerPositionX - 50 &&
          parseInt(obj.style.left) < playerPositionX + 50
        ) {
          alert('Game Over! Очки: ' + score);
          location.reload();
        }

        if (top > gameAreaHeight) {
          gameArea.removeChild(obj);
          fallingObjects.splice(i, 1);
          score++;
        }
      }
    }

    setInterval(createObject, 1000);
    setInterval(moveObjects, 20);
  </script>
</body>
</html>